
# Use Vagrant API version 2 (Cloud).
# config := Vagrant configuration object
Vagrant.configure("2") do |config|
  
  # Will install this box (Standard Ubuntu 18.04 LTS 64 bit, 494 MB) from Vagrant API.
  config.vm.box = "hashicorp/bionic64"
  config.vm.box_version = "1.0.282"


  # Will use Virtualbox.
  config.vm.provider "virtualbox" do |vb|
    # Set the RAM of the virtual machine to 4GB.
    vb.customize ["modifyvm", :id, "--memory", 1024 * 4]
  end


  # Provisioning script
  $script = <<-'SCRIPT'
  sudo apt-get update

    # Install MariaDB server package
  sudo apt-get install -y mariadb-server

   # Start MariaDB service
  sudo systemctl start mariadb

  # Enable MariaDB to start on boot
  sudo systemctl enable mariadb

  # Check MariaDB service status
  sudo systemctl status mariadb
  SCRIPT

  # File ("bootstrap.sh") that is going to be executed at the machine creation, to provision the machine.
  config.vm.provision "shell", inline: $script

  # /// -------------------------------------------------------------------------------------------------- ///
    # vagrant up        ( To create new Vagrant machines from the Vagrantfile. )
    # vagrant package   ( To compile the Vagrantfile into a box. )
    # vagrant validate  ( To preventively check if the Vagrantfile contains syntax errors or certain types of bugs. )

end
